{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = exports.mapPropsStreamWithConfig = void 0;\n\nvar _react = require(\"react\");\n\nvar _symbolObservable = _interopRequireDefault(require(\"symbol-observable\"));\n\nvar _componentFromStream = require(\"./componentFromStream\");\n\nvar _setDisplayName = _interopRequireDefault(require(\"./setDisplayName\"));\n\nvar _wrapDisplayName = _interopRequireDefault(require(\"./wrapDisplayName\"));\n\nvar _setObservableConfig = require(\"./setObservableConfig\");\n\nvar identity = function identity(t) {\n  return t;\n};\n\nvar mapPropsStreamWithConfig = function mapPropsStreamWithConfig(config) {\n  var componentFromStream = (0, _componentFromStream.componentFromStreamWithConfig)({\n    fromESObservable: identity,\n    toESObservable: identity\n  });\n  return function (transform) {\n    return function (BaseComponent) {\n      var factory = (0, _react.createFactory)(BaseComponent);\n      var fromESObservable = config.fromESObservable,\n          toESObservable = config.toESObservable;\n      return componentFromStream(function (props$) {\n        var _ref;\n\n        return _ref = {\n          subscribe: function subscribe(observer) {\n            var subscription = toESObservable(transform(fromESObservable(props$))).subscribe({\n              next: function next(childProps) {\n                return observer.next(factory(childProps));\n              }\n            });\n            return {\n              unsubscribe: function unsubscribe() {\n                return subscription.unsubscribe();\n              }\n            };\n          }\n        }, _ref[_symbolObservable.default] = function () {\n          return this;\n        }, _ref;\n      });\n    };\n  };\n};\n\nexports.mapPropsStreamWithConfig = mapPropsStreamWithConfig;\n\nvar mapPropsStream = function mapPropsStream(transform) {\n  var hoc = mapPropsStreamWithConfig(_setObservableConfig.config)(transform);\n\n  if (process.env.NODE_ENV !== 'production') {\n    return function (BaseComponent) {\n      return (0, _setDisplayName.default)((0, _wrapDisplayName.default)(BaseComponent, 'mapPropsStream'))(hoc(BaseComponent));\n    };\n  }\n\n  return hoc;\n};\n\nvar _default = mapPropsStream;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}