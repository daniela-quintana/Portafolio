{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = exports.componentFromStreamWithConfig = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = require(\"react\");\n\nvar _changeEmitter = require(\"change-emitter\");\n\nvar _symbolObservable = _interopRequireDefault(require(\"symbol-observable\"));\n\nvar _setObservableConfig = require(\"./setObservableConfig\");\n\nvar componentFromStreamWithConfig = function componentFromStreamWithConfig(config) {\n  return function (propsToVdom) {\n    return (\n      /*#__PURE__*/\n      function (_Component) {\n        (0, _inheritsLoose2.default)(ComponentFromStream, _Component);\n\n        function ComponentFromStream() {\n          var _config$fromESObserva;\n\n          var _this;\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n          _this.state = {\n            vdom: null\n          };\n          _this.propsEmitter = (0, _changeEmitter.createChangeEmitter)();\n          _this.props$ = config.fromESObservable((_config$fromESObserva = {\n            subscribe: function subscribe(observer) {\n              var unsubscribe = _this.propsEmitter.listen(function (props) {\n                if (props) {\n                  observer.next(props);\n                } else {\n                  observer.complete();\n                }\n              });\n\n              return {\n                unsubscribe: unsubscribe\n              };\n            }\n          }, _config$fromESObserva[_symbolObservable.default] = function () {\n            return this;\n          }, _config$fromESObserva));\n          _this.vdom$ = config.toESObservable(propsToVdom(_this.props$));\n          return _this;\n        }\n\n        var _proto = ComponentFromStream.prototype;\n\n        _proto.componentWillMount = function componentWillMount() {\n          var _this2 = this; // Subscribe to child prop changes so we know when to re-render\n\n\n          this.subscription = this.vdom$.subscribe({\n            next: function next(vdom) {\n              _this2.setState({\n                vdom: vdom\n              });\n            }\n          });\n          this.propsEmitter.emit(this.props);\n        };\n\n        _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n          // Receive new props from the owner\n          this.propsEmitter.emit(nextProps);\n        };\n\n        _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n          return nextState.vdom !== this.state.vdom;\n        };\n\n        _proto.componentWillUnmount = function componentWillUnmount() {\n          // Call without arguments to complete stream\n          this.propsEmitter.emit(); // Clean-up subscription before un-mounting\n\n          this.subscription.unsubscribe();\n        };\n\n        _proto.render = function render() {\n          return this.state.vdom;\n        };\n\n        return ComponentFromStream;\n      }(_react.Component)\n    );\n  };\n};\n\nexports.componentFromStreamWithConfig = componentFromStreamWithConfig;\n\nvar componentFromStream = function componentFromStream(propsToVdom) {\n  return componentFromStreamWithConfig(_setObservableConfig.config)(propsToVdom);\n};\n\nvar _default = componentFromStream;\nexports.default = _default;","map":{"version":3,"sources":["/Users/osx/Box Sync/Laboratoria/Proyectos/Portafolio/node_modules/recompose/componentFromStream.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","componentFromStreamWithConfig","_inheritsLoose2","_react","_changeEmitter","_symbolObservable","_setObservableConfig","config","propsToVdom","_Component","ComponentFromStream","_config$fromESObserva","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","vdom","propsEmitter","createChangeEmitter","props$","fromESObservable","subscribe","observer","unsubscribe","listen","props","next","complete","vdom$","toESObservable","_proto","prototype","componentWillMount","_this2","subscription","setState","emit","componentWillReceiveProps","nextProps","shouldComponentUpdate","nextState","componentWillUnmount","render","Component","componentFromStream","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = exports.componentFromStreamWithConfig = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = require(\"react\");\n\nvar _changeEmitter = require(\"change-emitter\");\n\nvar _symbolObservable = _interopRequireDefault(require(\"symbol-observable\"));\n\nvar _setObservableConfig = require(\"./setObservableConfig\");\n\nvar componentFromStreamWithConfig = function componentFromStreamWithConfig(config) {\n  return function (propsToVdom) {\n    return (\n      /*#__PURE__*/\n      function (_Component) {\n        (0, _inheritsLoose2.default)(ComponentFromStream, _Component);\n\n        function ComponentFromStream() {\n          var _config$fromESObserva;\n\n          var _this;\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n          _this.state = {\n            vdom: null\n          };\n          _this.propsEmitter = (0, _changeEmitter.createChangeEmitter)();\n          _this.props$ = config.fromESObservable((_config$fromESObserva = {\n            subscribe: function subscribe(observer) {\n              var unsubscribe = _this.propsEmitter.listen(function (props) {\n                if (props) {\n                  observer.next(props);\n                } else {\n                  observer.complete();\n                }\n              });\n\n              return {\n                unsubscribe: unsubscribe\n              };\n            }\n          }, _config$fromESObserva[_symbolObservable.default] = function () {\n            return this;\n          }, _config$fromESObserva));\n          _this.vdom$ = config.toESObservable(propsToVdom(_this.props$));\n          return _this;\n        }\n\n        var _proto = ComponentFromStream.prototype;\n\n        _proto.componentWillMount = function componentWillMount() {\n          var _this2 = this;\n\n          // Subscribe to child prop changes so we know when to re-render\n          this.subscription = this.vdom$.subscribe({\n            next: function next(vdom) {\n              _this2.setState({\n                vdom: vdom\n              });\n            }\n          });\n          this.propsEmitter.emit(this.props);\n        };\n\n        _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n          // Receive new props from the owner\n          this.propsEmitter.emit(nextProps);\n        };\n\n        _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n          return nextState.vdom !== this.state.vdom;\n        };\n\n        _proto.componentWillUnmount = function componentWillUnmount() {\n          // Call without arguments to complete stream\n          this.propsEmitter.emit(); // Clean-up subscription before un-mounting\n\n          this.subscription.unsubscribe();\n        };\n\n        _proto.render = function render() {\n          return this.state.vdom;\n        };\n\n        return ComponentFromStream;\n      }(_react.Component)\n    );\n  };\n};\n\nexports.componentFromStreamWithConfig = componentFromStreamWithConfig;\n\nvar componentFromStream = function componentFromStream(propsToVdom) {\n  return componentFromStreamWithConfig(_setObservableConfig.config)(propsToVdom);\n};\n\nvar _default = componentFromStream;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}