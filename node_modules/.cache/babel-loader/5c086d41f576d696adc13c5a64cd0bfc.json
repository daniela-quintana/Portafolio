{"ast":null,"code":"// ——————————————————————————————————————————————————\n// TextScramble\n// ——————————————————————————————————————————————————\nclass TextScramble {\n  constructor(el) {\n    this.el = el;\n    this.chars = '!<>-_\\\\/[]{}—=+*^?#________';\n    this.update = this.update.bind(this);\n  }\n\n  setText(newText) {\n    const length = Math.max(oldText.length, newText.length);\n    const promise = new Promise(resolve => this.resolve = resolve);\n    this.queue = [];\n\n    for (let i = 0; i < length; i++) {\n      const from = oldText[i] || '';\n      const to = newText[i] || '';\n      const start = Math.floor(Math.random() * 40);\n      const end = start + Math.floor(Math.random() * 40);\n      this.queue.push({\n        from,\n        to,\n        start,\n        end\n      });\n    }\n\n    cancelAnimationFrame(this.frameRequest);\n    this.frame = 0;\n    this.update();\n    return promise;\n  }\n\n  update() {\n    let output = '';\n    let complete = 0;\n\n    for (let i = 0, n = this.queue.length; i < n; i++) {\n      let _this$queue$i = this.queue[i],\n          from = _this$queue$i.from,\n          to = _this$queue$i.to,\n          start = _this$queue$i.start,\n          end = _this$queue$i.end,\n          char = _this$queue$i.char;\n\n      if (this.frame >= end) {\n        complete++;\n        output += to;\n      } else if (this.frame >= start) {\n        if (!char || Math.random() < 0.28) {\n          char = this.randomChar();\n          this.queue[i].char = char;\n        }\n\n        output += \"<span class=\\\"dud\\\">\".concat(char, \"</span>\");\n      } else {\n        output += from;\n      }\n    }\n\n    this.el.innerHTML = output;\n\n    if (complete === this.queue.length) {\n      this.resolve();\n    } else {\n      this.frameRequest = requestAnimationFrame(this.update);\n      this.frame++;\n    }\n  }\n\n  randomChar() {\n    return this.chars[Math.floor(Math.random() * this.chars.length)];\n  }\n\n} // ——————————————————————————————————————————————————\n// Example\n// ——————————————————————————————————————————————————\n\n\nconst phrases = ['Neo,', 'sooner or later', 'you\\'re going to realize', 'just as I did', 'that there\\'s a difference', 'between knowing the path', 'and walking the path'];\nconst el = document.querySelector('.text');\nconst fx = new TextScramble(el);\nlet counter = 0;\n\nconst next = () => {\n  fx.setText(phrases[counter]).then(() => {\n    setTimeout(next, 800);\n  });\n  counter = (counter + 1) % phrases.length;\n};\n\nnext();","map":{"version":3,"sources":["/Users/osx/Desktop/Box Sync/Laboratoria/Proyectos/Portafolio/my-app/src/App.js"],"names":["TextScramble","constructor","el","chars","update","bind","setText","newText","length","Math","max","oldText","promise","Promise","resolve","queue","i","from","to","start","floor","random","end","push","cancelAnimationFrame","frameRequest","frame","output","complete","n","char","randomChar","innerHTML","requestAnimationFrame","phrases","document","querySelector","fx","counter","next","then","setTimeout"],"mappings":"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","sourcesContent":["// ——————————————————————————————————————————————————\n// TextScramble\n// ——————————————————————————————————————————————————\n\nclass TextScramble {\n  constructor(el) {\n    this.el = el\n    this.chars = '!<>-_\\\\/[]{}—=+*^?#________'\n    this.update = this.update.bind(this)\n  }\n  setText(newText) {\n    const length = Math.max(oldText.length, newText.length)\n    const promise = new Promise((resolve) => this.resolve = resolve)\n    this.queue = []\n    for (let i = 0; i < length; i++) {\n      const from = oldText[i] || ''\n      const to = newText[i] || ''\n      const start = Math.floor(Math.random() * 40)\n      const end = start + Math.floor(Math.random() * 40)\n      this.queue.push({ from, to, start, end })\n    }\n    cancelAnimationFrame(this.frameRequest)\n    this.frame = 0\n    this.update()\n    return promise\n  }\n  update() {\n    let output = ''\n    let complete = 0\n    for (let i = 0, n = this.queue.length; i < n; i++) {\n      let { from, to, start, end, char } = this.queue[i]\n      if (this.frame >= end) {\n        complete++\n        output += to\n      } else if (this.frame >= start) {\n        if (!char || Math.random() < 0.28) {\n          char = this.randomChar()\n          this.queue[i].char = char\n        }\n        output += `<span class=\"dud\">${char}</span>`\n      } else {\n        output += from\n      }\n    }\n    this.el.innerHTML = output\n    if (complete === this.queue.length) {\n      this.resolve()\n    } else {\n      this.frameRequest = requestAnimationFrame(this.update)\n      this.frame++\n    }\n  }\n  randomChar() {\n    return this.chars[Math.floor(Math.random() * this.chars.length)]\n  }\n}\n\n// ——————————————————————————————————————————————————\n// Example\n// ——————————————————————————————————————————————————\n\nconst phrases = [\n  'Neo,',\n  'sooner or later',\n  'you\\'re going to realize',\n  'just as I did',\n  'that there\\'s a difference',\n  'between knowing the path',\n  'and walking the path'\n]\n\nconst el = document.querySelector('.text')\nconst fx = new TextScramble(el)\n\nlet counter = 0\nconst next = () => {\n  fx.setText(phrases[counter]).then(() => {\n    setTimeout(next, 800)\n  })\n  counter = (counter + 1) % phrases.length\n}\n\nnext()"]},"metadata":{},"sourceType":"module"}