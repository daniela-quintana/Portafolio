{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar _default2 = _interopDefault(require('ramda/src/range'));\n\nvar _default5 = _interopDefault(require('ramda/src/map'));\n\nvar _default4 = _interopDefault(require('ramda/src/addIndex'));\n\nvar _default3 = _interopDefault(require('ramda/src/reduce'));\n\nvar _default2$1 = _interopDefault(require('ramda/src/concat'));\n\nvar _default = _interopDefault(require('ramda/src/pipe'));\n\nvar _default14 = _interopDefault(require('ramda/src/flatten'));\n\nvar _default13 = _interopDefault(require('ramda/src/subtract'));\n\nvar _default12 = _interopDefault(require('ramda/src/juxt'));\n\nvar _default11 = _interopDefault(require('ramda/src/lt'));\n\nvar _default10 = _interopDefault(require('ramda/src/findIndex'));\n\nvar _default9 = _interopDefault(require('ramda/src/add'));\n\nvar _default8 = _interopDefault(require('ramda/src/scan'));\n\nvar _default6 = _interopDefault(require('ramda/src/__'));\n\nvar _default6$1 = _interopDefault(require('ramda/src/divide'));\n\nvar _default5$1 = _interopDefault(require('ramda/src/repeat'));\n\nvar _default4$1 = _interopDefault(require('ramda/src/always'));\n\nvar _default15 = _interopDefault(require('ramda/src/omit'));\n\nvar _default14$1 = _interopDefault(require('ramda/src/drop'));\n\nvar _default13$1 = _interopDefault(require('ramda/src/isNil'));\n\nvar _default12$1 = _interopDefault(require('ramda/src/max'));\n\nvar _default11$1 = _interopDefault(require('ramda/src/is'));\n\nvar _default10$1 = _interopDefault(require('ramda/src/equals'));\n\nvar _default9$1 = _interopDefault(require('ramda/src/length'));\n\nvar _default7 = _interopDefault(require('ramda/src/pathOr'));\n\nvar _default5$2 = _interopDefault(require('ramda/src/prop'));\n\nvar _default4$2 = _interopDefault(require('ramda/src/identity'));\n\nvar _default3$1 = _interopDefault(require('ramda/src/nth'));\n\nvar _default2$2 = _interopDefault(require('ramda/src/not'));\n\nvar _default$1 = _interopDefault(require('ramda/src/head'));\n\nvar React = require('react');\n\nvar setObservableConfig = _interopDefault(require('recompose/setObservableConfig'));\n\nvar createEventHandler = _interopDefault(require('recompose/createEventHandler'));\n\nvar compose = _interopDefault(require('recompose/compose'));\n\nvar mapPropsStream = _interopDefault(require('recompose/mapPropsStream'));\n\nvar withHandlers = _interopDefault(require('recompose/withHandlers'));\n\nvar withPropsOnChange = _interopDefault(require('recompose/withPropsOnChange'));\n\nvar lifecycle = _interopDefault(require('recompose/lifecycle'));\n\nvar operators = require('rxjs/operators');\n\nvar rxjs = require('rxjs');\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nvar NO_BREAK_SPACE = 160;\n\nvar PRINTABLE_CHAR_CODES = _default2(33, 127);\n\nvar NO_BREAK_SPACE_CHAR_CODE = NO_BREAK_SPACE;\nvar noBreakSpace = String.fromCharCode(NO_BREAK_SPACE_CHAR_CODE);\n\nvar randomChar = function randomChar() {\n  return _default(_default2$1([NO_BREAK_SPACE_CHAR_CODE]), function (array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }, String.fromCharCode)(PRINTABLE_CHAR_CODES);\n};\n\nvar array2String = _default3(_default2$1, '');\n\nvar mixcramble = function mixcramble(_) {\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var mask = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var noBreakSpaceFlag = arguments[3];\n  return _default(_default4(_default5)(function (d, i) {\n    return d === 0 ? randomChar() : text[i] || (noBreakSpaceFlag ? noBreakSpace : '');\n  }), array2String)(mask);\n};\n\nvar descramble = function descramble() {\n  var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var mask = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var noBreakSpaceFlag = arguments[3];\n  return _default(_default4(_default5)(function (d, i) {\n    return d === 0 ? result[i] || (noBreakSpaceFlag ? noBreakSpace : '') : text[i] || (noBreakSpaceFlag ? noBreakSpace : '');\n  }), array2String)(mask);\n};\n\nvar scramble = function scramble() {\n  var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var mask = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var noBreakSpaceFlag = arguments[3];\n  return _default(_default4(_default5)(function (d, i) {\n    return d === 0 ? result[i] || (noBreakSpaceFlag ? noBreakSpace : '') : randomChar();\n  }), array2String)(mask);\n};\n\nvar getRandomMask = _default(_default2(0), _default5(_default(Math.random, Math.round)));\n\nvar getFullMask = _default(_default2(0), _default5(_default4$1(1)));\n\nvar getForwardMask = function getForwardMask(length) {\n  var roll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : length;\n  var count = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : roll;\n\n  if (count <= 1) {\n    return _default5$1(1, length);\n  }\n\n  var base = _default(_default6$1, Math.floor, _default5$1(_default6, length))(roll, length);\n\n  for (var i = 0; i < roll % length; i++) {\n    base[i]++;\n  }\n\n  return _default(_default8(_default9, 0), _default10(_default11(roll - count)), _default12([_default5$1(1), _default(_default13(length), _default5$1(0))]), _default14)(base);\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar config = {\n  fromESObservable: rxjs.from,\n  toESObservable: function toESObservable(stream) {\n    return stream;\n  }\n};\nsetObservableConfig(config);\nvar omitProps = ['autoStart', 'bindMethod', 'mouseEnterTrigger', 'mouseLeaveTrigger', 'noBreakSpace', 'pause', 'preScramble', 'reset', 'restart', 'speed', 'start', 'steps', 'text'];\nvar speed = {\n  fast: 25,\n  medium: 50,\n  slow: 100\n};\n\nvar getPauserStream = function getPauserStream(autoStart$, isQueueEmpty$, pause$, reset$, start$) {\n  return rxjs.merge(rxjs.combineLatest(autoStart$, reset$.pipe(operators.startWith(''))).pipe(operators.map(_default$1), operators.map(_default2$2)), pause$.pipe(operators.mapTo(true)), start$.pipe(operators.withLatestFrom(isQueueEmpty$), operators.map(_default3$1(1))), isQueueEmpty$.pipe(operators.filter(_default4$2)));\n};\n\nvar getPropStream = function getPropStream(props$, key) {\n  return props$.pipe(operators.pluck(key), operators.distinctUntilChanged());\n};\n\nvar Scramble = compose(mapPropsStream(function (props$) {\n  var _createEventHandler = createEventHandler(),\n      start = _createEventHandler.handler,\n      start$ = _createEventHandler.stream;\n\n  var _createEventHandler2 = createEventHandler(),\n      pause = _createEventHandler2.handler,\n      pause$ = _createEventHandler2.stream;\n\n  var _createEventHandler3 = createEventHandler(),\n      reset = _createEventHandler3.handler,\n      reset$ = _createEventHandler3.stream;\n\n  var queue$ = new rxjs.Subject();\n  var counter$ = new rxjs.Subject();\n  var result$ = new rxjs.Subject();\n  var autoStart$ = getPropStream(props$, 'autoStart');\n  var preScramble$ = getPropStream(props$, 'preScramble');\n  var noBreakSpace$ = getPropStream(props$, 'noBreakSpace');\n  var initText$ = getPropStream(props$, 'text').pipe(operators.share());\n  var steps$ = getPropStream(props$, 'steps').pipe(operators.share());\n  var period$ = getPropStream(props$, 'speed').pipe(operators.map(_default5$2(_default6, speed)));\n  var currentStep$ = queue$.pipe(operators.map(_default7({}, [0])), operators.share());\n  var isQueueEmpty$ = queue$.pipe(operators.map(_default(_default9$1, _default10$1(0))), operators.share());\n  var text$ = rxjs.merge(currentStep$.pipe(operators.pluck('text'), operators.filter(_default11$1(String))), rxjs.combineLatest(initText$, reset$.pipe(operators.startWith(''))).pipe(operators.map(_default$1))).pipe(operators.distinctUntilChanged());\n  var pauser$ = getPauserStream(autoStart$, isQueueEmpty$, pause$, reset$, start$);\n  var processor$ = currentStep$.pipe(operators.map(function (_ref) {\n    var action = _ref.action,\n        type = _ref.type;\n\n    switch (action) {\n      case '+':\n        return scramble;\n\n      case '-':\n        return type === 'forward' ? mixcramble : descramble;\n\n      default:\n        return _default4$2;\n    }\n  }));\n  var mask$ = rxjs.combineLatest(currentStep$, counter$, result$, text$).pipe(operators.map(function (_ref2) {\n    var _ref3 = slicedToArray(_ref2, 4),\n        _ref3$ = _ref3[0],\n        type = _ref3$.type,\n        roll = _ref3$.roll,\n        counter = _ref3[1],\n        result = _ref3[2],\n        text = _ref3[3];\n\n    var length = _default12$1(result.length, text.length);\n\n    switch (type) {\n      case 'random':\n        return getRandomMask(length);\n\n      case 'forward':\n        return getForwardMask(length, roll, counter);\n\n      case 'all':\n      default:\n        return getFullMask(length);\n    }\n  }));\n  var pausableTimer$ = rxjs.combineLatest(pauser$, period$).pipe(operators.switchMap(function (_ref4) {\n    var _ref5 = slicedToArray(_ref4, 2),\n        paused = _ref5[0],\n        period = _ref5[1];\n\n    return paused ? rxjs.empty() : // startWith 0 to send event immediately\n    rxjs.interval(period).pipe(operators.startWith(0));\n  }));\n  rxjs.merge(rxjs.combineLatest(initText$, preScramble$, reset$.pipe(operators.startWith(''))).pipe(operators.map(function (_ref6) {\n    var _ref7 = slicedToArray(_ref6, 2),\n        text = _ref7[0],\n        preScramble = _ref7[1];\n\n    return preScramble ? scramble(null, text, getFullMask(text.length)) : text;\n  })), pausableTimer$.pipe(operators.withLatestFrom(result$, text$, processor$, mask$, noBreakSpace$), operators.map(function (_ref8) {\n    var _ref9 = slicedToArray(_ref8, 6),\n        result = _ref9[1],\n        text = _ref9[2],\n        processor = _ref9[3],\n        mask = _ref9[4],\n        noBreakSpace = _ref9[5];\n\n    return processor(result, text, mask, noBreakSpace);\n  }))).subscribe(result$);\n  rxjs.merge(currentStep$.pipe(operators.pluck('roll')), pausableTimer$.pipe(operators.withLatestFrom(currentStep$, result$, text$, counter$), operators.map(function (_ref10) {\n    var _ref11 = slicedToArray(_ref10, 5),\n        _ref11$ = _ref11[1],\n        type = _ref11$.type,\n        action = _ref11$.action,\n        result = _ref11[2],\n        text = _ref11[3],\n        counter = _ref11[4];\n\n    if (!_default13$1(counter)) {\n      return counter - 1;\n    }\n\n    if (type === 'forward') {\n      return _default12$1(result.length, text.length) - 1;\n    }\n\n    if (action === '-' && text === result) {\n      return 0;\n    } // endless loop when counter is undefined\n\n\n    return;\n  }))).subscribe(counter$);\n  rxjs.merge(steps$, reset$.pipe(operators.withLatestFrom(steps$), operators.map(_default3$1(1))), counter$.pipe(operators.filter(_default10$1(0)), operators.withLatestFrom(queue$), operators.map(_default3$1(1)), operators.map(_default14$1(1)))).subscribe(queue$);\n  return rxjs.combineLatest(props$, result$).pipe(operators.map(function (_ref12) {\n    var _ref13 = slicedToArray(_ref12, 2),\n        props = _ref13[0],\n        result = _ref13[1];\n\n    return _extends({}, props, {\n      result: result,\n      start: start,\n      pause: pause,\n      reset: reset\n    });\n  }));\n}), withPropsOnChange(['start', 'reset'], function (props) {\n  return {\n    restart: function restart() {\n      props.reset();\n      props.start();\n    }\n  };\n}), lifecycle({\n  componentDidMount: function componentDidMount() {\n    var bindMethod = this.props.bindMethod;\n\n    if (bindMethod) {\n      bindMethod({\n        start: this.props.start,\n        pause: this.props.pause,\n        reset: this.props.reset,\n        restart: this.props.restart\n      });\n    }\n  }\n}), withHandlers({\n  onMouseEnter: function onMouseEnter(props) {\n    return function () {\n      var onMouseEnter = props.onMouseEnter,\n          mouseEnterTrigger = props.mouseEnterTrigger;\n      var action = props[mouseEnterTrigger];\n      _default11$1(Function, onMouseEnter) && onMouseEnter();\n      _default11$1(Function, action) && action();\n    };\n  },\n  onMouseLeave: function onMouseLeave(props) {\n    return function () {\n      var onMouseLeave = props.onMouseLeave,\n          mouseLeaveTrigger = props.mouseLeaveTrigger;\n      var action = props[mouseLeaveTrigger];\n      _default11$1(Function, onMouseLeave) && onMouseLeave();\n      _default11$1(Function, action) && action();\n    };\n  }\n}))(function (_ref14) {\n  var _ref14$result = _ref14.result,\n      result = _ref14$result === undefined ? '' : _ref14$result,\n      otherProps = objectWithoutProperties(_ref14, ['result']);\n  return React.createElement('span', _default15(omitProps, otherProps), result);\n});\nScramble.displayName = 'Scramble';\nScramble.propTypes = {\n  autoStart: PropTypes.bool,\n  bindMethod: PropTypes.func,\n  mouseEnterTrigger: PropTypes.oneOf(['start', 'pause', 'reset', 'restart']),\n  mouseLeaveTrigger: PropTypes.oneOf(['start', 'pause', 'reset', 'restart']),\n  noBreakSpace: PropTypes.bool,\n  speed: PropTypes.string,\n  steps: PropTypes.array,\n  text: PropTypes.string\n};\nScramble.defaultProps = {\n  autoStart: false,\n  preScramble: false,\n  steps: [],\n  speed: 'medium',\n  noBreakSpace: true\n};\n\nvar getNoBreakSpaces = _default(_default5$1(String.fromCharCode(NO_BREAK_SPACE)), _default3(_default2$1, ''));\n\nexports.default = Scramble;\nexports.getNoBreakSpaces = getNoBreakSpaces;","map":{"version":3,"sources":["/Users/osx/Box Sync/Laboratoria/Proyectos/Portafolio/node_modules/react-scramble/dist/index.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","_default2","require","_default5","_default4","_default3","_default2$1","_default","_default14","_default13","_default12","_default11","_default10","_default9","_default8","_default6","_default6$1","_default5$1","_default4$1","_default15","_default14$1","_default13$1","_default12$1","_default11$1","_default10$1","_default9$1","_default7","_default5$2","_default4$2","_default3$1","_default2$2","_default$1","React","setObservableConfig","createEventHandler","compose","mapPropsStream","withHandlers","withPropsOnChange","lifecycle","operators","rxjs","PropTypes","NO_BREAK_SPACE","PRINTABLE_CHAR_CODES","NO_BREAK_SPACE_CHAR_CODE","noBreakSpace","String","fromCharCode","randomChar","array","Math","floor","random","length","array2String","mixcramble","_","text","arguments","undefined","mask","noBreakSpaceFlag","d","i","descramble","result","scramble","getRandomMask","round","getFullMask","getForwardMask","roll","count","base","_extends","assign","target","source","key","prototype","hasOwnProperty","call","objectWithoutProperties","obj","keys","indexOf","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","TypeError","config","fromESObservable","from","toESObservable","stream","omitProps","speed","fast","medium","slow","getPauserStream","autoStart$","isQueueEmpty$","pause$","reset$","start$","merge","combineLatest","pipe","startWith","map","mapTo","withLatestFrom","filter","getPropStream","props$","pluck","distinctUntilChanged","Scramble","_createEventHandler","start","handler","_createEventHandler2","pause","_createEventHandler3","reset","queue$","Subject","counter$","result$","preScramble$","noBreakSpace$","initText$","share","steps$","period$","currentStep$","text$","pauser$","processor$","_ref","action","type","mask$","_ref2","_ref3","_ref3$","counter","pausableTimer$","switchMap","_ref4","_ref5","paused","period","empty","interval","_ref6","_ref7","preScramble","_ref8","_ref9","processor","subscribe","_ref10","_ref11","_ref11$","_ref12","_ref13","props","restart","componentDidMount","bindMethod","onMouseEnter","mouseEnterTrigger","Function","onMouseLeave","mouseLeaveTrigger","_ref14","_ref14$result","otherProps","createElement","displayName","propTypes","autoStart","bool","func","oneOf","string","steps","defaultProps","getNoBreakSpaces","default"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _default2 = _interopDefault(require('ramda/src/range'));\nvar _default5 = _interopDefault(require('ramda/src/map'));\nvar _default4 = _interopDefault(require('ramda/src/addIndex'));\nvar _default3 = _interopDefault(require('ramda/src/reduce'));\nvar _default2$1 = _interopDefault(require('ramda/src/concat'));\nvar _default = _interopDefault(require('ramda/src/pipe'));\nvar _default14 = _interopDefault(require('ramda/src/flatten'));\nvar _default13 = _interopDefault(require('ramda/src/subtract'));\nvar _default12 = _interopDefault(require('ramda/src/juxt'));\nvar _default11 = _interopDefault(require('ramda/src/lt'));\nvar _default10 = _interopDefault(require('ramda/src/findIndex'));\nvar _default9 = _interopDefault(require('ramda/src/add'));\nvar _default8 = _interopDefault(require('ramda/src/scan'));\nvar _default6 = _interopDefault(require('ramda/src/__'));\nvar _default6$1 = _interopDefault(require('ramda/src/divide'));\nvar _default5$1 = _interopDefault(require('ramda/src/repeat'));\nvar _default4$1 = _interopDefault(require('ramda/src/always'));\nvar _default15 = _interopDefault(require('ramda/src/omit'));\nvar _default14$1 = _interopDefault(require('ramda/src/drop'));\nvar _default13$1 = _interopDefault(require('ramda/src/isNil'));\nvar _default12$1 = _interopDefault(require('ramda/src/max'));\nvar _default11$1 = _interopDefault(require('ramda/src/is'));\nvar _default10$1 = _interopDefault(require('ramda/src/equals'));\nvar _default9$1 = _interopDefault(require('ramda/src/length'));\nvar _default7 = _interopDefault(require('ramda/src/pathOr'));\nvar _default5$2 = _interopDefault(require('ramda/src/prop'));\nvar _default4$2 = _interopDefault(require('ramda/src/identity'));\nvar _default3$1 = _interopDefault(require('ramda/src/nth'));\nvar _default2$2 = _interopDefault(require('ramda/src/not'));\nvar _default$1 = _interopDefault(require('ramda/src/head'));\nvar React = require('react');\nvar setObservableConfig = _interopDefault(require('recompose/setObservableConfig'));\nvar createEventHandler = _interopDefault(require('recompose/createEventHandler'));\nvar compose = _interopDefault(require('recompose/compose'));\nvar mapPropsStream = _interopDefault(require('recompose/mapPropsStream'));\nvar withHandlers = _interopDefault(require('recompose/withHandlers'));\nvar withPropsOnChange = _interopDefault(require('recompose/withPropsOnChange'));\nvar lifecycle = _interopDefault(require('recompose/lifecycle'));\nvar operators = require('rxjs/operators');\nvar rxjs = require('rxjs');\nvar PropTypes = _interopDefault(require('prop-types'));\n\nvar NO_BREAK_SPACE = 160;\n\nvar PRINTABLE_CHAR_CODES = _default2(33, 127);\nvar NO_BREAK_SPACE_CHAR_CODE = NO_BREAK_SPACE;\n\nvar noBreakSpace = String.fromCharCode(NO_BREAK_SPACE_CHAR_CODE);\n\nvar randomChar = function randomChar() {\n  return _default(_default2$1([NO_BREAK_SPACE_CHAR_CODE]), function (array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }, String.fromCharCode)(PRINTABLE_CHAR_CODES);\n};\n\nvar array2String = _default3(_default2$1, '');\n\nvar mixcramble = function mixcramble(_) {\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var mask = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var noBreakSpaceFlag = arguments[3];\n  return _default(_default4(_default5)(function (d, i) {\n    return d === 0 ? randomChar() : text[i] || (noBreakSpaceFlag ? noBreakSpace : '');\n  }), array2String)(mask);\n};\n\nvar descramble = function descramble() {\n  var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var mask = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var noBreakSpaceFlag = arguments[3];\n  return _default(_default4(_default5)(function (d, i) {\n    return d === 0 ? result[i] || (noBreakSpaceFlag ? noBreakSpace : '') : text[i] || (noBreakSpaceFlag ? noBreakSpace : '');\n  }), array2String)(mask);\n};\n\nvar scramble = function scramble() {\n  var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var mask = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var noBreakSpaceFlag = arguments[3];\n  return _default(_default4(_default5)(function (d, i) {\n    return d === 0 ? result[i] || (noBreakSpaceFlag ? noBreakSpace : '') : randomChar();\n  }), array2String)(mask);\n};\n\nvar getRandomMask = _default(_default2(0), _default5(_default(Math.random, Math.round)));\n\nvar getFullMask = _default(_default2(0), _default5(_default4$1(1)));\n\nvar getForwardMask = function getForwardMask(length) {\n  var roll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : length;\n  var count = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : roll;\n\n  if (count <= 1) {\n    return _default5$1(1, length);\n  }\n\n  var base = _default(_default6$1, Math.floor, _default5$1(_default6, length))(roll, length);\n\n  for (var i = 0; i < roll % length; i++) {\n    base[i]++;\n  }\n\n  return _default(_default8(_default9, 0), _default10(_default11(roll - count)), _default12([_default5$1(1), _default(_default13(length), _default5$1(0))]), _default14)(base);\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar config = {\n  fromESObservable: rxjs.from,\n  toESObservable: function toESObservable(stream) {\n    return stream;\n  }\n};\n\nsetObservableConfig(config);\n\nvar omitProps = ['autoStart', 'bindMethod', 'mouseEnterTrigger', 'mouseLeaveTrigger', 'noBreakSpace', 'pause', 'preScramble', 'reset', 'restart', 'speed', 'start', 'steps', 'text'];\n\nvar speed = {\n  fast: 25,\n  medium: 50,\n  slow: 100\n};\n\nvar getPauserStream = function getPauserStream(autoStart$, isQueueEmpty$, pause$, reset$, start$) {\n  return rxjs.merge(rxjs.combineLatest(autoStart$, reset$.pipe(operators.startWith(''))).pipe(operators.map(_default$1), operators.map(_default2$2)), pause$.pipe(operators.mapTo(true)), start$.pipe(operators.withLatestFrom(isQueueEmpty$), operators.map(_default3$1(1))), isQueueEmpty$.pipe(operators.filter(_default4$2)));\n};\n\nvar getPropStream = function getPropStream(props$, key) {\n  return props$.pipe(operators.pluck(key), operators.distinctUntilChanged());\n};\n\nvar Scramble = compose(mapPropsStream(function (props$) {\n  var _createEventHandler = createEventHandler(),\n      start = _createEventHandler.handler,\n      start$ = _createEventHandler.stream;\n\n  var _createEventHandler2 = createEventHandler(),\n      pause = _createEventHandler2.handler,\n      pause$ = _createEventHandler2.stream;\n\n  var _createEventHandler3 = createEventHandler(),\n      reset = _createEventHandler3.handler,\n      reset$ = _createEventHandler3.stream;\n\n  var queue$ = new rxjs.Subject();\n  var counter$ = new rxjs.Subject();\n  var result$ = new rxjs.Subject();\n\n  var autoStart$ = getPropStream(props$, 'autoStart');\n  var preScramble$ = getPropStream(props$, 'preScramble');\n  var noBreakSpace$ = getPropStream(props$, 'noBreakSpace');\n\n  var initText$ = getPropStream(props$, 'text').pipe(operators.share());\n  var steps$ = getPropStream(props$, 'steps').pipe(operators.share());\n  var period$ = getPropStream(props$, 'speed').pipe(operators.map(_default5$2(_default6, speed)));\n\n  var currentStep$ = queue$.pipe(operators.map(_default7({}, [0])), operators.share());\n\n  var isQueueEmpty$ = queue$.pipe(operators.map(_default(_default9$1, _default10$1(0))), operators.share());\n\n  var text$ = rxjs.merge(currentStep$.pipe(operators.pluck('text'), operators.filter(_default11$1(String))), rxjs.combineLatest(initText$, reset$.pipe(operators.startWith(''))).pipe(operators.map(_default$1))).pipe(operators.distinctUntilChanged());\n\n  var pauser$ = getPauserStream(autoStart$, isQueueEmpty$, pause$, reset$, start$);\n\n  var processor$ = currentStep$.pipe(operators.map(function (_ref) {\n    var action = _ref.action,\n        type = _ref.type;\n\n    switch (action) {\n      case '+':\n        return scramble;\n      case '-':\n        return type === 'forward' ? mixcramble : descramble;\n      default:\n        return _default4$2;\n    }\n  }));\n\n  var mask$ = rxjs.combineLatest(currentStep$, counter$, result$, text$).pipe(operators.map(function (_ref2) {\n    var _ref3 = slicedToArray(_ref2, 4),\n        _ref3$ = _ref3[0],\n        type = _ref3$.type,\n        roll = _ref3$.roll,\n        counter = _ref3[1],\n        result = _ref3[2],\n        text = _ref3[3];\n\n    var length = _default12$1(result.length, text.length);\n\n    switch (type) {\n      case 'random':\n        return getRandomMask(length);\n      case 'forward':\n        return getForwardMask(length, roll, counter);\n      case 'all':\n      default:\n        return getFullMask(length);\n    }\n  }));\n\n  var pausableTimer$ = rxjs.combineLatest(pauser$, period$).pipe(operators.switchMap(function (_ref4) {\n    var _ref5 = slicedToArray(_ref4, 2),\n        paused = _ref5[0],\n        period = _ref5[1];\n\n    return paused ? rxjs.empty() : // startWith 0 to send event immediately\n    rxjs.interval(period).pipe(operators.startWith(0));\n  }));\n\n  rxjs.merge(rxjs.combineLatest(initText$, preScramble$, reset$.pipe(operators.startWith(''))).pipe(operators.map(function (_ref6) {\n    var _ref7 = slicedToArray(_ref6, 2),\n        text = _ref7[0],\n        preScramble = _ref7[1];\n\n    return preScramble ? scramble(null, text, getFullMask(text.length)) : text;\n  })), pausableTimer$.pipe(operators.withLatestFrom(result$, text$, processor$, mask$, noBreakSpace$), operators.map(function (_ref8) {\n    var _ref9 = slicedToArray(_ref8, 6),\n        result = _ref9[1],\n        text = _ref9[2],\n        processor = _ref9[3],\n        mask = _ref9[4],\n        noBreakSpace = _ref9[5];\n\n    return processor(result, text, mask, noBreakSpace);\n  }))).subscribe(result$);\n\n  rxjs.merge(currentStep$.pipe(operators.pluck('roll')), pausableTimer$.pipe(operators.withLatestFrom(currentStep$, result$, text$, counter$), operators.map(function (_ref10) {\n    var _ref11 = slicedToArray(_ref10, 5),\n        _ref11$ = _ref11[1],\n        type = _ref11$.type,\n        action = _ref11$.action,\n        result = _ref11[2],\n        text = _ref11[3],\n        counter = _ref11[4];\n\n    if (!_default13$1(counter)) {\n      return counter - 1;\n    }\n\n    if (type === 'forward') {\n      return _default12$1(result.length, text.length) - 1;\n    }\n\n    if (action === '-' && text === result) {\n      return 0;\n    }\n\n    // endless loop when counter is undefined\n    return;\n  }))).subscribe(counter$);\n\n  rxjs.merge(steps$, reset$.pipe(operators.withLatestFrom(steps$), operators.map(_default3$1(1))), counter$.pipe(operators.filter(_default10$1(0)), operators.withLatestFrom(queue$), operators.map(_default3$1(1)), operators.map(_default14$1(1)))).subscribe(queue$);\n\n  return rxjs.combineLatest(props$, result$).pipe(operators.map(function (_ref12) {\n    var _ref13 = slicedToArray(_ref12, 2),\n        props = _ref13[0],\n        result = _ref13[1];\n\n    return _extends({}, props, {\n      result: result,\n      start: start,\n      pause: pause,\n      reset: reset\n    });\n  }));\n}), withPropsOnChange(['start', 'reset'], function (props) {\n  return {\n    restart: function restart() {\n      props.reset();\n      props.start();\n    }\n  };\n}), lifecycle({\n  componentDidMount: function componentDidMount() {\n    var bindMethod = this.props.bindMethod;\n\n\n    if (bindMethod) {\n      bindMethod({\n        start: this.props.start,\n        pause: this.props.pause,\n        reset: this.props.reset,\n        restart: this.props.restart\n      });\n    }\n  }\n}), withHandlers({\n  onMouseEnter: function onMouseEnter(props) {\n    return function () {\n      var onMouseEnter = props.onMouseEnter,\n          mouseEnterTrigger = props.mouseEnterTrigger;\n\n      var action = props[mouseEnterTrigger];\n\n      _default11$1(Function, onMouseEnter) && onMouseEnter();\n      _default11$1(Function, action) && action();\n    };\n  },\n  onMouseLeave: function onMouseLeave(props) {\n    return function () {\n      var onMouseLeave = props.onMouseLeave,\n          mouseLeaveTrigger = props.mouseLeaveTrigger;\n\n      var action = props[mouseLeaveTrigger];\n\n      _default11$1(Function, onMouseLeave) && onMouseLeave();\n      _default11$1(Function, action) && action();\n    };\n  }\n}))(function (_ref14) {\n  var _ref14$result = _ref14.result,\n      result = _ref14$result === undefined ? '' : _ref14$result,\n      otherProps = objectWithoutProperties(_ref14, ['result']);\n  return React.createElement(\n    'span',\n    _default15(omitProps, otherProps),\n    result\n  );\n});\n\nScramble.displayName = 'Scramble';\n\nScramble.propTypes = {\n  autoStart: PropTypes.bool,\n  bindMethod: PropTypes.func,\n  mouseEnterTrigger: PropTypes.oneOf(['start', 'pause', 'reset', 'restart']),\n  mouseLeaveTrigger: PropTypes.oneOf(['start', 'pause', 'reset', 'restart']),\n  noBreakSpace: PropTypes.bool,\n  speed: PropTypes.string,\n  steps: PropTypes.array,\n  text: PropTypes.string\n};\n\nScramble.defaultProps = {\n  autoStart: false,\n  preScramble: false,\n  steps: [],\n  speed: 'medium',\n  noBreakSpace: true\n};\n\nvar getNoBreakSpaces = _default(_default5$1(String.fromCharCode(NO_BREAK_SPACE)), _default3(_default2$1, ''));\n\nexports.default = Scramble;\nexports.getNoBreakSpaces = getNoBreakSpaces;\n"]},"metadata":{},"sourceType":"script"}